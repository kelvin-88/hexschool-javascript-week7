(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{1276:function(t,e,a){"use strict";var i=a("d784"),o=a("44e7"),s=a("825a"),n=a("1d80"),r=a("4840"),c=a("8aa5"),l=a("50c4"),d=a("14c3"),u=a("9263"),p=a("d039"),m=[].push,h=Math.min,g=4294967295,v=!p((function(){return!RegExp(g,"y")}));i("split",2,(function(t,e,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var i=String(n(this)),s=void 0===a?g:a>>>0;if(0===s)return[];if(void 0===t)return[i];if(!o(t))return e.call(i,t,s);var r,c,l,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,p+"g");while(r=u.call(v,i)){if(c=v.lastIndex,c>h&&(d.push(i.slice(h,r.index)),r.length>1&&r.index<i.length&&m.apply(d,r.slice(1)),l=r[0].length,h=c,d.length>=s))break;v.lastIndex===r.index&&v.lastIndex++}return h===i.length?!l&&v.test("")||d.push(""):d.push(i.slice(h)),d.length>s?d.slice(0,s):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var o=n(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,o,a):i.call(String(o),e,a)},function(t,o){var n=a(i,t,this,o,i!==e);if(n.done)return n.value;var u=s(t),p=String(this),m=r(u,RegExp),f=u.unicode,b=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),_=new m(v?u:"^(?:"+u.source+")",b),C=void 0===o?g:o>>>0;if(0===C)return[];if(0===p.length)return null===d(_,p)?[p]:[];var x=0,y=0,P=[];while(y<p.length){_.lastIndex=v?y:0;var w,k=d(_,v?p:p.slice(y));if(null===k||(w=h(l(_.lastIndex+(v?0:y)),p.length))===x)y=c(p,y,f);else{if(P.push(p.slice(x,y)),P.length===C)return P;for(var $=1;$<=k.length-1;$++)if(P.push(k[$]),P.length===C)return P;y=x=w}}return P.push(p.slice(x)),P}]}),!v)},"14c3":function(t,e,a){var i=a("c6b6"),o=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var s=a.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"1dde":function(t,e,a){var i=a("d039"),o=a("b622"),s=a("2d00"),n=o("species");t.exports=function(t){return s>=51||!i((function(){var e=[],a=e.constructor={};return a[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2e25":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("後台優待券列表")]),a("div",{staticClass:"container mt-3"},[a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"text-right mt-4"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openModal("new")}}},[t._v("建立新的優待券")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.orders,(function(e,i){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.code))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.percent))]),a("td",[e.enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[t._v(t._s(e.deadline.datetime))]),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.openModal("edit",e,i)}}},[t._v("編輯")]),a("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(a){return t.openModal("delete",e,i)}}},[t._v("刪除")])])])])})),0)]),a("pagination",{attrs:{pages:t.pages},on:{"emit-pages":t.getCoupons}}),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v(t._s(t.title))])]),t._m(1)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"請輸入名稱"},domProps:{value:t.tempCoupon.title},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"title",e.target.value)}}})]),a("label",{attrs:{for:"code"}},[t._v("序號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{id:"code",type:"text",placeholder:"請輸入序號"},domProps:{value:t.tempCoupon.code},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"code",e.target.value)}}}),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"percent"}},[t._v("折扣百分比")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempCoupon.percent,expression:"tempCoupon.percent",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"percent",type:"number",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempCoupon.percent},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"percent",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"coddeadline_at"}},[t._v("到期日")]),a("datepicker",{attrs:{inline:!0},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}})],1),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.enabled,expression:"tempCoupon.enabled"}],staticClass:"form-check-input",attrs:{id:"enabled",type:"checkbox"},domProps:{checked:Array.isArray(t.tempCoupon.enabled)?t._i(t.tempCoupon.enabled,null)>-1:t.tempCoupon.enabled},on:{change:function(e){var a=t.tempCoupon.enabled,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,n=t._i(a,s);i.checked?n<0&&t.$set(t.tempCoupon,"enabled",a.concat([s])):n>-1&&t.$set(t.tempCoupon,"enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.tempCoupon,"enabled",o)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v(" 優待券(刪除後將無法恢復)。 ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delCoupon}},[t._v("確認刪除")])])])])])],1)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"200"}},[t._v("名稱")]),a("th",[t._v("序號")]),a("th",{attrs:{width:"120"}},[t._v("折扣百分比")]),a("th",{attrs:{width:"100"}},[t._v("是否啟用")]),a("th",{attrs:{width:"200"}},[t._v("到期日")]),a("th",{attrs:{width:"120"}},[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除優待券")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=(a("99af"),a("ac1f"),a("1276"),a("e20e")),n=a("1157"),r=a.n(n),c={components:{Pagination:s["a"]},created:function(){this.getCoupons(1)},props:["token"],methods:{refreshScreen:function(){this.getCoupons(this.pages.current_page)},getCoupons:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/coupons?page=").concat(e);this.$http.get(a).then((function(e){t.isLoading=!1,console.log(e.data.data),t.orders=e.data.data,t.pages.current_page=e.data.meta.pagination.current_page,t.pages.total_pages=e.data.meta.pagination.total_pages,console.log(t.orders)})).catch((function(e){console.log(e),t.isLoading=!1}))},updateCoupon:function(){var t,e=this;switch(console.log(this.tempCoupon),this.tempCoupon.deadline_at=this.deadline.toISOString().split("T")[0],this.tempCoupon.deadline_at=this.tempCoupon.deadline_at+" 23:59:59",this.isNew){case!0:t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/coupon"),this.$http.post(t,this.tempCoupon).then((function(t){console.log(e.tempCoupon),r()("#productModal").modal("hide"),e.refreshScreen()})).catch((function(t){console.log(t),alert(t.response.data.message)}));break;case!1:t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/coupon/").concat(this.tempCoupon.id),this.$http.patch(t,this.tempCoupon).then((function(t){e.refreshScreen(),r()("#productModal").modal("hide")})).catch((function(t){console.log(t),alert(t.response.data.message)})),this.orders[this.tempIndex]=this.tempCoupon,this.$set(this.orders,this.tempIndex,this.tempCoupon);break}},openModal:function(t,e,a){switch(this.tempIndex=a,console.log(this.tempIndex),t){case"new":this.title="新增優待券",this.tempCoupon={},this.isNew=!0,this.deadline=new Date,this.tempCoupon.enabled=!1,r()("#productModal").modal("show");break;case"edit":this.title="編輯優待券",this.tempCoupon=Object.assign({},e),this.isNew=!1,this.deadline=new Date(e.deadline.datetime),r()("#productModal").modal("show");break;case"delete":r()("#delCouponModal").modal("show"),this.tempCoupon=Object.assign({},e);break;default:break}},delCoupon:function(){var t,e=this;console.log(this.tempCoupon),t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/coupon/").concat(this.tempCoupon.id),this.$http.delete(t,this.tempCoupon).then((function(t){r()("#delCouponModal").modal("hide"),e.refreshScreen()})).catch((function(t){console.log(t),alert(t.response.data.message)}))}},data:function(){return{deadline:new Date("2011-04-11T10:20:30Z"),isLoading:!1,title:"",orders:[],tempCoupon:{code:"",title:"",percent:0,enabled:!1,deadline_at:""},tempIndex:0,user:{token:"",uuid:""},pages:{current_page:1,total_pages:0}}}},l=c,d=a("2877"),u=Object(d["a"])(l,i,o,!1,null,null,null);e["default"]=u.exports},"2f7f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("關於我們")])])}],s=a("2877"),n={},r=Object(s["a"])(n,i,o,!1,null,null,null);e["default"]=r.exports},"44e7":function(t,e,a){var i=a("861d"),o=a("c6b6"),s=a("b622"),n=s("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==o(t))}},5319:function(t,e,a){"use strict";var i=a("d784"),o=a("825a"),s=a("7b0b"),n=a("50c4"),r=a("a691"),c=a("1d80"),l=a("8aa5"),d=a("14c3"),u=Math.max,p=Math.min,m=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,e,a,i){var f=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=i.REPLACE_KEEPS_$0,_=f?"$":"$0";return[function(a,i){var o=c(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,o,i):e.call(String(o),a,i)},function(t,i){if(!f&&b||"string"===typeof i&&-1===i.indexOf(_)){var s=a(e,t,this,i);if(s.done)return s.value}var c=o(t),m=String(this),h="function"===typeof i;h||(i=String(i));var g=c.global;if(g){var x=c.unicode;c.lastIndex=0}var y=[];while(1){var P=d(c,m);if(null===P)break;if(y.push(P),!g)break;var w=String(P[0]);""===w&&(c.lastIndex=l(m,n(c.lastIndex),x))}for(var k="",$=0,E=0;E<y.length;E++){P=y[E];for(var M=String(P[0]),L=u(p(r(P.index),m.length),0),I=[],S=1;S<P.length;S++)I.push(v(P[S]));var U=P.groups;if(h){var O=[M].concat(I,L,m);void 0!==U&&O.push(U);var N=String(i.apply(void 0,O))}else N=C(M,m,L,I,U,i);L>=$&&(k+=m.slice($,L)+N,$=L+M.length)}return k+m.slice($)}];function C(t,a,i,o,n,r){var c=i+t.length,l=o.length,d=g;return void 0!==n&&(n=s(n),d=h),e.call(r,d,(function(e,s){var r;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,i);case"'":return a.slice(c);case"<":r=n[s.slice(1,-1)];break;default:var d=+s;if(0===d)return e;if(d>l){var u=m(d/10);return 0===u?e:u<=l?void 0===o[u-1]?s.charAt(1):o[u-1]+s.charAt(1):e}r=o[d-1]}return void 0===r?"":r}))}}))},"5c3a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("後台管理頁面")]),a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin"}},[t._v("後台管理頁面")]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[t._v("產品列表")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[t._v("優待券列表")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[t._v("訂單列表")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/images"}},[t._v("圖片儲存列表")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("回前台")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/logout"}},[t._v("登出")])],1)])])],1),t.checkSuccess?a("router-view",{attrs:{token:t.token}}):t._e()],1)},o=[],s=(a("ac1f"),a("5319"),{created:function(){console.log("92f42149-8598-4890-ac28-c09272379b59"),this.checkLogin()},data:function(){return{token:"",checkSuccess:!1}},methods:{checkLogin:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/","api/auth/check");this.token=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");var a={api_token:this.token};this.$http.post(e,a).then((function(e){console.log(e.data),t.checkSuccess=!0,t.$http.defaults.headers.common.Authorization="Bearer ".concat(t.token)})).catch((function(e){console.log(e),t.$router.push("/login")}))}}}),n=s,r=a("2877"),c=Object(r["a"])(n,i,o,!1,null,null,null);e["default"]=c.exports},6547:function(t,e,a){var i=a("a691"),o=a("1d80"),s=function(t){return function(e,a){var s,n,r=String(o(e)),c=i(a),l=r.length;return c<0||c>=l?t?"":void 0:(s=r.charCodeAt(c),s<55296||s>56319||c+1===l||(n=r.charCodeAt(c+1))<56320||n>57343?t?r.charAt(c):s:t?r.slice(c,c+2):n-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"65f0":function(t,e,a){var i=a("861d"),o=a("e8b5"),s=a("b622"),n=s("species");t.exports=function(t,e){var a;return o(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?i(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"6d09":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("後台產品列表")]),a("div",{staticClass:"container mt-3"},[a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"text-right mt-4"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openModal("new")}}},[t._v("建立新的產品")]),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.showDeleteAllProducts()}}},[t._v("Delete all")]),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.addSampleData()}}},[t._v("Sample Data")]),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.deleteAllShoppingCart()}}},[t._v("Delete Shopping Cart")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.products,(function(e,i){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.origin_price))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.price))]),a("td",[e.enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.openModal("edit",e,i)}}},[t._v("編輯")]),a("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(a){return t.openModal("delete",e,i)}}},[t._v("刪除")])])])])})),0)]),a("pagination",{attrs:{pages:t.pages},on:{"emit-pages":t.getProducts}}),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v(t._s(t.title))])]),t._m(1)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"imageUrl"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl[0],expression:"tempProduct.imageUrl[0]"}],staticClass:"form-control",attrs:{id:"imageUrl",type:"text",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl[0]},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.imageUrl,0,e.target.value)}}})]),a("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl,alt:""}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{id:"category",type:"text",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{id:"unit",type:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{id:"origin_price",type:"number",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{id:"price",type:"number",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{id:"description",type:"text",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{id:"description",type:"text",placeholder:"請輸入說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.enabled,expression:"tempProduct.enabled"}],staticClass:"form-check-input",attrs:{id:"enabled",type:"checkbox","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(t.tempProduct.enabled)?t._i(t.tempProduct.enabled,null)>-1:t.tempProduct.enabled},on:{change:function(e){var a=t.tempProduct.enabled,i=e.target,o=!!i.checked;if(Array.isArray(a)){var s=null,n=t._i(a,s);i.checked?n<0&&t.$set(t.tempProduct,"enabled",a.concat([s])):n>-1&&t.$set(t.tempProduct,"enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.tempProduct,"enabled",o)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"enabled"}},[t._v("是否啟用")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。 ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delProduct}},[t._v("確認刪除")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delAllProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(3),a("div",{staticClass:"modal-body"},[t._v("是否刪除所有商品(刪除後將無法恢復)。")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delAllProducts}},[t._v("確認刪除")])])])])])],1)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"120"}},[t._v("分類")]),a("th",[t._v("產品名稱")]),a("th",{attrs:{width:"120"}},[t._v("原價")]),a("th",{attrs:{width:"120"}},[t._v("售價")]),a("th",{attrs:{width:"100"}},[t._v("是否啟用")]),a("th",{attrs:{width:"120"}},[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除所有產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=(a("99af"),a("e20e")),n=a("1157"),r=a.n(n),c={components:{Pagination:s["a"]},created:function(){this.getProducts(1)},props:["token"],methods:{refreshScreen:function(){this.getProducts(this.pages.current_page)},deleteAllShoppingCart:function(){var t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/ec/shopping/all/product");this.$http.delete(t).then((function(t){console.log(t.data)})).catch((function(t){console.log(t.response)}))},addSampleData:function(){var t,e,a=[{title:"樹脂1時尚眼鏡",category:"樹脂",content:"樹脂眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>樹脂系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1587929501535-1e2d559e8488?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80"],enabled:!0,origin_price:2100,price:1600},{title:"樹脂2時尚眼鏡",category:"樹脂",content:"樹脂眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>樹脂系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1574258495973-f010dfbb5371?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"],enabled:!0,origin_price:2200,price:1700},{title:"樹脂3時尚眼鏡",category:"樹脂",content:"樹脂眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>樹脂系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1578749183382-762c9d79fe61?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=986&q=80"],enabled:!0,origin_price:2300,price:1800},{title:"樹脂4時尚眼鏡",category:"樹脂",content:"樹脂眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>樹脂系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1574258495973-f010dfbb5371?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"],enabled:!0,origin_price:2400,price:1900},{title:"塑膠1時尚眼鏡",category:"塑膠",content:"塑膠眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>塑膠系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1475312775467-159e03aaa7cd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"],enabled:!0,origin_price:2500,price:2e3},{title:"塑膠2時尚眼鏡",category:"塑膠",content:"塑膠眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>塑膠系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1559090336-65e03f0fb62f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1789&q=80"],enabled:!0,origin_price:2600,price:2100},{title:"塑膠3時尚眼鏡",category:"塑膠",content:"塑膠眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>塑膠系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1594370607187-38a23fe6aa24?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1934&q=80"],enabled:!0,origin_price:2700,price:2200},{title:"塑膠4時尚眼鏡",category:"塑膠",content:"塑膠眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>塑膠系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1592006016974-e94636fdfe83?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1959&q=80"],enabled:!0,origin_price:2800,price:2300},{title:"塑膠5時尚眼鏡",category:"塑膠",content:"塑膠眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>塑膠系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1542629458-eaa56d608062?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1947&q=80"],enabled:!0,origin_price:2900,price:2400},{title:"塑膠6時尚眼鏡",category:"塑膠",content:"塑膠眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>塑膠系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1475312775467-159e03aaa7cd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"],enabled:!0,origin_price:3e3,price:2500},{title:"金屬1時尚眼鏡",category:"金屬",content:"金屬眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>金屬系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1589176449149-71f7ea77ec25?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2134&q=80"],enabled:!0,origin_price:3100,price:2600},{title:"金屬2時尚眼鏡",category:"金屬",content:"金屬眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>金屬系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1546180245-c59500ad14d0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=675&q=80"],enabled:!0,origin_price:3200,price:2700},{title:"金屬3時尚眼鏡",category:"金屬",content:"金屬眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>金屬系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/reserve/mFzm7UbxRle0Qhm5m3xM_IMG_7535.jpg?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1789&q=80"],enabled:!0,origin_price:3300,price:2800},{title:"金屬4時尚眼鏡",category:"金屬",content:"金屬眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>金屬系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1574065557312-b7cc977d8a89?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80"],enabled:!0,origin_price:3400,price:2900},{title:"金屬5時尚眼鏡",category:"金屬",content:"金屬眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>金屬系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1511499767150-a48a237f0083?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=80"],enabled:!0,origin_price:3500,price:3e3},{title:"金屬6時尚眼鏡",category:"金屬",content:"金屬眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>金屬系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1566232212863-d8543adb6eda?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"],enabled:!0,origin_price:3600,price:3100},{title:"金屬7時尚眼鏡",category:"金屬",content:"金屬眼鏡系列，容易保養, 配合亞洲人臉型的眼鏡",description:"<ul><li>金屬系列</li><li>簡約風格</li><li>適合任何臉形</li></ul>",imageUrl:["https://images.unsplash.com/photo-1557775446-b5678ecaf086?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80"],enabled:!0,origin_price:3700,price:3200}];for(t in a){var i=a[t];console.log(i),e="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/product"),this.$http.post(e,i).then((function(t){console.log(t.data)})).catch((function(t){console.log(t.response)}))}},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/ec/products?page=").concat(e);this.$http.get(a).then((function(e){t.isLoading=!1,console.log(e.data.data),t.products=e.data.data,t.pages.current_page=e.data.meta.pagination.current_page,t.pages.total_pages=e.data.meta.pagination.total_pages,console.log(t.products)})).catch((function(e){console.log(e),t.isLoading=!1}))},updateProduct:function(){var t,e=this;switch(console.log(this.tempProduct),this.isNew){case!0:t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/product"),this.$http.post(t,this.tempProduct).then((function(t){console.log(e.tempProduct),r()("#productModal").modal("hide"),e.refreshScreen()})).catch((function(t){console.log(t),alert(t.response.data.message)}));break;case!1:t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/product/").concat(this.tempProduct.id),this.$http.patch(t,this.tempProduct).then((function(t){e.refreshScreen(),r()("#productModal").modal("hide")})).catch((function(t){console.log(t),alert(t.response.data.message)})),this.products[this.tempIndex]=this.tempProduct,this.$set(this.products,this.tempIndex,this.tempProduct);break}},openModal:function(t,e,a){switch(this.tempIndex=a,console.log(this.tempIndex),t){case"new":this.title="新增產品",this.tempProduct={imageUrl:[]},this.isNew=!0,r()("#productModal").modal("show");break;case"edit":this.title="編輯產品",this.tempProduct=Object.assign({},e),this.isNew=!1,r()("#productModal").modal("show");break;case"delete":r()("#delProductModal").modal("show"),this.tempProduct=Object.assign({},e);break;default:break}},delAllProducts:function(){for(var t,e=0;e<this.products.length;e++)console.log(this.products[e].id),t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/product/").concat(this.products[e].id),this.$http.delete(t).then((function(t){console.log(t.data)})).catch((function(t){console.log(t),alert(t.response.data.message)}));r()("#delAllProductModal").modal("hide"),this.refreshScreen()},delProduct:function(){var t,e=this;console.log(this.tempProduct),t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/product/").concat(this.tempProduct.id),this.$http.delete(t,this.tempProduct).then((function(t){r()("#delProductModal").modal("hide"),e.refreshScreen()})).catch((function(t){console.log(t),alert(t.response.data.message)}))}},data:function(){return{isLoading:!1,title:"",products:[],tempProduct:{imageUrl:[]},tempIndex:0,user:{token:"",uuid:""},pages:{current_page:1,total_pages:0}}}},l=c,d=a("2877"),u=Object(d["a"])(l,i,o,!1,null,null,null);e["default"]=u.exports},"81b1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("產品列表")]),a("div",{staticClass:"container mt-3"},[a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.products,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.origin_price))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.price))]),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.getProduct(e)}}},[t._v("產品細節")])])])])})),0)]),a("pagination",{attrs:{pages:t.pages},on:{"emit-pages":t.getProducts}}),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"imageUrl"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl[0],expression:"tempProduct.imageUrl[0]"}],staticClass:"form-control",attrs:{readonly:"",id:"imageUrl",type:"text",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl[0]},on:{input:function(e){e.target.composing||t.$set(t.tempProduct.imageUrl,0,e.target.value)}}})]),a("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl,alt:""}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{readonly:"",id:"title",type:"text",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{readonly:"",id:"category",type:"text",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{readonly:"",id:"unit",type:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{readonly:"",id:"origin_price",type:"number",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{readonly:"",id:"price",type:"number",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{readonly:"",id:"description",type:"text",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{readonly:"",id:"description",type:"text",placeholder:"請輸入說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{disabled:"",id:"is_enabled",type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(e){var a=t.tempProduct.is_enabled,i=e.target,o=i.checked?1:0;if(Array.isArray(a)){var s=null,n=t._i(a,s);i.checked?n<0&&t.$set(t.tempProduct,"is_enabled",a.concat([s])):n>-1&&t.$set(t.tempProduct,"is_enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.tempProduct,"is_enabled",o)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),t._m(2)])])]),a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(3),a("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。 ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delProduct}},[t._v("確認刪除")])])])])])],1)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"120"}},[t._v("分類")]),a("th",[t._v("產品名稱")]),a("th",{attrs:{width:"120"}},[t._v("原價")]),a("th",{attrs:{width:"120"}},[t._v("售價")]),a("th",{attrs:{width:"100"}},[t._v("是否啟用")]),a("th",{attrs:{width:"120"}},[t._v("產品細節")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("產品細節")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=(a("99af"),a("e20e")),n=a("1157"),r=a.n(n),c={components:{Pagination:s["a"]},created:function(){this.getProducts(1)},props:["token"],methods:{refreshScreen:function(){this.getProducts(this.pages.current_page)},getProduct:function(t){console.log(t.id),this.$router.push({name:"product",params:{id:t.id}})},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/ec/products?page=").concat(e);this.$http.get(a).then((function(e){t.isLoading=!1,console.log(e.data.data),t.products=e.data.data,t.pages.current_page=e.data.meta.pagination.current_page,t.pages.total_pages=e.data.meta.pagination.total_pages,console.log(t.products)})).catch((function(e){console.log(e),t.isLoading=!1}))},updateProduct:function(){var t,e=this;switch(console.log(this.tempProduct),this.isNew){case!0:t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/product"),this.$http.post(t,this.tempProduct).then((function(t){console.log(e.tempProduct),r()("#productModal").modal("hide"),e.refreshScreen()})).catch((function(t){console.log(t),alert(t.response.data.message)}));break;case!1:t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/product/").concat(this.tempProduct.id),this.$http.patch(t,this.tempProduct).then((function(t){e.refreshScreen(),r()("#productModal").modal("hide")})).catch((function(t){console.log(t),alert(t.response.data.message)})),this.products[this.tempIndex]=this.tempProduct,this.$set(this.products,this.tempIndex,this.tempProduct);break}},openModal:function(t,e,a){switch(this.tempIndex=a,console.log(this.tempIndex),t){case"new":this.title="新增產品",this.tempProduct={imageUrl:[]},this.isNew=!0,r()("#productModal").modal("show");break;case"edit":this.title="編輯產品",this.tempProduct=Object.assign({},e),this.isNew=!1,r()("#productModal").modal("show");break;case"delete":r()("#delProductModal").modal("show"),this.tempProduct=Object.assign({},e);break;default:break}},delProduct:function(){var t,e=this;console.log(this.tempProduct),t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/product/").concat(this.tempProduct.id),this.$http.delete(t,this.tempProduct).then((function(t){r()("#delProductModal").modal("hide"),e.refreshScreen()})).catch((function(t){console.log(t),alert(t.response.data.message)}))}},data:function(){return{isLoading:!1,title:"",products:[],tempProduct:{imageUrl:[]},tempIndex:0,user:{token:"",uuid:""},pages:{current_page:1,total_pages:0}}}},l=c,d=a("2877"),u=Object(d["a"])(l,i,o,!1,null,null,null);e["default"]=u.exports},8418:function(t,e,a){"use strict";var i=a("c04e"),o=a("9bf2"),s=a("5c6c");t.exports=function(t,e,a){var n=i(e);n in t?o.f(t,n,s(0,a)):t[n]=a}},"88e9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("前台管理頁面")]),a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("前台管理頁面")]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("首頁")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/products"}},[t._v("產品列表")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/shoppingcart"}},[t._v("購物車")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("關於我們")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/payment"}},[t._v("結帳")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/checkout"}},[t._v("結帳完成")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin"}},[t._v("後台管理")])],1)])])]),a("router-view")],1)},o=[],s={created:function(){console.log("92f42149-8598-4890-ac28-c09272379b59")},data:function(){return{}},methods:{checkLogin:function(){}}},n=s,r=a("2877"),c=Object(r["a"])(n,i,o,!1,null,null,null);e["default"]=c.exports},"8aa5":function(t,e,a){"use strict";var i=a("6547").charAt;t.exports=function(t,e,a){return e+(a?i(t,e).length:1)}},"8cd9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("購物車")])])}],s=a("2877"),n={},r=Object(s["a"])(n,i,o,!1,null,null,null);e["default"]=r.exports},9263:function(t,e,a){"use strict";var i=a("ad6d"),o=a("9f7f"),s=RegExp.prototype.exec,n=String.prototype.replace,r=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=c||d||l;u&&(r=function(t){var e,a,o,r,u=this,p=l&&u.sticky,m=i.call(u),h=u.source,g=0,v=t;return p&&(m=m.replace("y",""),-1===m.indexOf("g")&&(m+="g"),v=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,g++),a=new RegExp("^(?:"+h+")",m)),d&&(a=new RegExp("^"+h+"$(?!\\s)",m)),c&&(e=u.lastIndex),o=s.call(p?a:u,v),p?o?(o.input=o.input.slice(g),o[0]=o[0].slice(g),o.index=u.lastIndex,u.lastIndex+=o[0].length):u.lastIndex=0:c&&o&&(u.lastIndex=u.global?o.index+o[0].length:e),d&&o&&o.length>1&&n.call(o[0],a,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o}),t.exports=r},"99af":function(t,e,a){"use strict";var i=a("23e7"),o=a("d039"),s=a("e8b5"),n=a("861d"),r=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),m=a("2d00"),h=p("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",f=m>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=u("concat"),_=function(t){if(!n(t))return!1;var e=t[h];return void 0!==e?!!e:s(t)},C=!f||!b;i({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,i,o,s,n=r(this),u=d(n,0),p=0;for(e=-1,i=arguments.length;e<i;e++)if(s=-1===e?n:arguments[e],_(s)){if(o=c(s.length),p+o>g)throw TypeError(v);for(a=0;a<o;a++,p++)a in s&&l(u,p,s[a])}else{if(p>=g)throw TypeError(v);l(u,p++,s)}return u.length=p,u}})},"9bca":function(t,e,a){},"9f7f":function(t,e,a){"use strict";var i=a("d039");function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a55b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("登入")]),a("div",{staticClass:"container"},[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("請先登入")]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("登入")]),a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2020~∞ - 六角學院")])])])])},o=[],s=(a("99af"),{data:function(){return{user:{email:"",password:""},token:""}},methods:{signin:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/","api/auth/login");this.$http.post(e,this.user).then((function(e){var a=e.data.token,i=e.data.expired;document.cookie="hexToken=".concat(a,";expires=").concat(new Date(1e3*i),"; path=/"),t.$router.push("/admin")})).catch((function(t){console.log(t),alert(t.response.data.message)}))}}}),n=s,r=(a("cdb6"),a("2877")),c=Object(r["a"])(n,i,o,!1,null,"d3a81720",null);e["default"]=c.exports},ac1f:function(t,e,a){"use strict";var i=a("23e7"),o=a("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(t,e,a){"use strict";var i=a("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b06d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("訂單列表")]),a("div",{staticClass:"container mt-3"},[a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.created.datetime))]),a("td",t._l(e.products,(function(e){return a("li",{key:e.title},[t._v(" "+t._s(e.product.title)+" ("+t._s(e.quantity)+" "+t._s(e.product.unit)+") ")])})),0),a("td",[t._v(t._s(e.payment))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.amount))]),a("td",[e.paid?a("span",{staticClass:"text-success"},[t._v("是")]):a("span",[t._v("否")])])])})),0)]),a("pagination",{attrs:{pages:t.pages},on:{"emit-pages":t.getorders}})],1)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"150"}},[t._v("日期")]),a("th",{attrs:{width:"300"}},[t._v("購買項目")]),a("th",{attrs:{width:"120"}},[t._v("購買方式")]),a("th",{staticClass:"text-right",attrs:{width:"120"}},[t._v("金額")]),a("th",{attrs:{width:"60"}},[t._v("已付款")])])])}],s=(a("99af"),a("e20e")),n=(a("1157"),{components:{Pagination:s["a"]},created:function(){this.getorders(1)},props:["token"],methods:{refreshScreen:function(){this.getorders(this.pages.current_page)},getorders:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/ec/orders?page=").concat(e);this.$http.get(a).then((function(e){t.isLoading=!1,console.log(e.data.data),t.orders=e.data.data,t.pages.current_page=e.data.meta.pagination.current_page,t.pages.total_pages=e.data.meta.pagination.total_pages,console.log(t.orders)})).catch((function(e){console.log(e),t.isLoading=!1}))}},data:function(){return{isLoading:!1,title:"",orders:[],tempProduct:{imageUrl:[]},tempIndex:0,user:{token:"",uuid:""},pages:{current_page:1,total_pages:0}}}}),r=n,c=a("2877"),l=Object(c["a"])(r,i,o,!1,null,null,null);e["default"]=l.exports},b275:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("結帳")])])}],s=a("2877"),n={},r=Object(s["a"])(n,i,o,!1,null,null,null);e["default"]=r.exports},b7c8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("結帳完成")])])}],s=a("2877"),n={},r=Object(s["a"])(n,i,o,!1,null,null,null);e["default"]=r.exports},c100:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("登出")]),a("div",{staticClass:"container"},[a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2020~∞ - 六角學院")])])])}],s={created:function(){this.logout()},methods:{logout:function(){document.cookie="hexToken=;expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/",this.$router.push("/admin")}}},n=s,r=a("2877"),c=Object(r["a"])(n,i,o,!1,null,null,null);e["default"]=c.exports},c52c:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("圖片儲存列表")]),a("div",{staticClass:"container mt-3"},[a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"text-right mt-4"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openModal("new")}}},[t._v("建立新的圖片")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.orders,(function(e,i){return a("tr",{key:e.id},[a("img",{attrs:{src:e.path,height:"150px",width:"250px"}}),a("td",[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(a){return t.openModal("delete",e,i)}}},[t._v("刪除")])])])])})),0)]),a("pagination",{attrs:{pages:t.pages},on:{"emit-pages":t.getStorage}}),a("div",{staticClass:"modal fade",attrs:{id:"imageModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v(t._s(t.title))])]),t._m(1)]),a("div",{staticClass:"modal-body"},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._m(2)],1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.uploadFile}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delImageModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(3),a("div",{staticClass:"modal-body"},[t._v("是否刪除圖片(刪除後將無法恢復)。")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delImage}},[t._v("確認刪除")])])])])])],1)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("圖片")]),a("th",{attrs:{width:"120"}},[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("input",{staticClass:"form-control",attrs:{id:"customFile",type:"file"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除圖片")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=(a("99af"),a("ac1f"),a("1276"),a("e20e")),n=a("1157"),r=a.n(n),c={components:{Pagination:s["a"]},created:function(){this.getStorage(1)},props:["token"],methods:{uploadFile:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/storage"),a=document.querySelector("#customFile").files[0],i=new FormData;i.append("file",a),this.$http.post(e,i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.isLoading=!1,console.log(e),r()("#imageModal").modal("hide"),t.refreshScreen()})).catch((function(e){t.isLoading=!1,console.log(e),r()("#imageModal").modal("hide")}))},refreshScreen:function(){this.getStorage(this.pages.current_page)},getStorage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/storage?page=").concat(e);this.$http.get(a).then((function(e){t.isLoading=!1,console.log(e.data.data),t.orders=e.data.data,t.pages.current_page=e.data.meta.pagination.current_page,t.pages.total_pages=e.data.meta.pagination.total_pages,console.log(t.orders)})).catch((function(e){console.log(e),t.isLoading=!1}))},updateCoupon:function(){var t,e=this;switch(console.log(this.tempImage),this.tempImage.deadline_at=this.deadline.toISOString().split("T")[0],this.tempImage.deadline_at=this.tempImage.deadline_at+" 23:59:59",this.isNew){case!0:t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/coupon"),this.$http.post(t,this.tempImage).then((function(t){console.log(e.tempImage),r()("#imageModal").modal("hide"),e.refreshScreen()})).catch((function(t){console.log(t),alert(t.response.data.message)}));break;case!1:t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/ec/coupon/").concat(this.tempImage.id),this.$http.patch(t,this.tempImage).then((function(t){e.refreshScreen(),r()("#imageModal").modal("hide")})).catch((function(t){console.log(t),alert(t.response.data.message)})),this.orders[this.tempIndex]=this.tempImage,this.$set(this.orders,this.tempIndex,this.tempImage);break}},openModal:function(t,e,a){switch(this.tempIndex=a,console.log(this.tempIndex),t){case"new":this.title="新增圖片",this.tempImage={},this.isNew=!0,document.querySelector("#customFile").value=[],r()("#imageModal").modal("show");break;case"edit":this.title="編輯圖片",this.tempImage=Object.assign({},e),this.isNew=!1,this.deadline=new Date(e.deadline.datetime),r()("#imageModal").modal("show");break;case"delete":r()("#delImageModal").modal("show"),this.tempImage=Object.assign({},e);break;default:break}},delImage:function(){var t,e=this;this.isLoading=!0,console.log(this.tempImage),t="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/storage/").concat(this.tempImage.id),this.$http.delete(t,this.tempImage).then((function(t){e.isLoading=!1,r()("#delImageModal").modal("hide"),e.refreshScreen()})).catch((function(t){e.isLoading=!1,console.log(t),alert(t.response.data.message)}))}},data:function(){return{deadline:new Date("2011-04-11T10:20:30Z"),isLoading:!1,filePath:"",title:"",orders:[],tempImage:{id:"",path:""},tempIndex:0,user:{token:"",uuid:""},pages:{current_page:1,total_pages:0}}}},l=c,d=a("2877"),u=Object(d["a"])(l,i,o,!1,null,null,null);e["default"]=u.exports},cdb6:function(t,e,a){"use strict";var i=a("9bca"),o=a.n(i);o.a},d784:function(t,e,a){"use strict";a("ac1f");var i=a("6eeb"),o=a("d039"),s=a("b622"),n=a("9263"),r=a("9112"),c=s("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=s("replace"),p=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),m=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,u){var h=s(t),g=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),v=g&&!o((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[h]=/./[h]),a.exec=function(){return e=!0,null},a[h](""),!e}));if(!g||!v||"replace"===t&&(!l||!d||p)||"split"===t&&!m){var f=/./[h],b=a(h,""[t],(function(t,e,a,i,o){return e.exec===n?g&&!o?{done:!0,value:f.call(e,a,i)}:{done:!0,value:t.call(a,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=b[0],C=b[1];i(String.prototype,t,_),i(RegExp.prototype,h,2==e?function(t,e){return C.call(t,this,e)}:function(t){return C.call(t,this)})}u&&r(RegExp.prototype[h],"sham",!0)}},e20e:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:1===t.pages.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(e,i){return a("li",{key:i,staticClass:"page-item",class:{active:e===t.pages.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.emitPages(e)}}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item",class:{disabled:t.pages.current_page===t.pages.total_pages}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},o=[],s={data:function(){return{}},props:{pages:{}},methods:{emitPages:function(t){this.$emit("emit-pages",t)}}},n=s,r=a("2877"),c=Object(r["a"])(n,i,o,!1,null,null,null);e["a"]=c.exports},e8b5:function(t,e,a){var i=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},fdb3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("後台產品列表")]),a("div",{staticClass:"container mt-3"},[a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("input",{staticClass:"form-control",attrs:{id:"customFile",type:"file"},on:{change:t.uploadFile}}),t._v(" 此範例未完整，請參考課程介紹修正 "),a("img",{attrs:{src:t.filePath,alt:""}}),t._v(" "+t._s(t.filePath)+" ")],1),a("pagination",{attrs:{pages:t.pages},on:{"emit-pages":t.getProducts}})],1)])},o=[],s=(a("99af"),a("e20e")),n={components:{Pagination:s["a"]},created:function(){},props:["token"],methods:{uploadFile:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/","api/").concat("92f42149-8598-4890-ac28-c09272379b59","/admin/storage"),a=document.querySelector("#customFile").files[0],i=new FormData;i.append("file",a),this.$http.post(e,i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.isLoading=!1,console.log(e)})).catch((function(e){console.log(e),t.isLoading=!1}))}},data:function(){return{isLoading:!1,filePath:""}}},r=n,c=a("2877"),l=Object(c["a"])(r,i,o,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=about.f443381f.js.map